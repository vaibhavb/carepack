<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8">
<title>Direct Mail Application</title>

<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="description" content="E-Mail Client">

<link rel="stylesheet" href="http://yui.yahooapis.com/pure/0.3.0/pure-min.css">
<link rel="stylesheet" href="css/threecol-style.css">
</head>

<body>
    <script type="text/x-handlebars">
    <div class="site-header">
        <header class="pure-u-1">
            <a class="site-header-name">Direct HealthCare Document Mail Application</a>
        </header>
    </div>

    <div class="pure-g-r content" id="layout">
        <aside>
            <div class="pure-u" id="nav">
                <a href="#" class="nav-menu-button">Menu</a>

                <div class="nav-inner">
                    <button class="pure-button primary-button">Compose</button>

                    <div class="pure-menu pure-menu-open">
                        <ul>
                        {{#each}}
                            <li>
                                {{#link-to "mailbox" this currentWhen="mailbox"}}
                                    {{name}}
                                    <span class="email-count">
                                    ({{messages.length}})
                                    </span>
                                {{/link-to}}
                            </li>
                        {{/each}}
                            <li class="pure-menu-heading">Labels</li>
                            <li><a href="#"><span class="email-label-personal"></span>Referrals</a></li>
                            <li><a href="#"><span class="email-label-work"></span>Follow Ups</a></li>
                            <li><a href="#"><span class="email-label-travel"></span>Patients</a></li>
                        </ul>
                    </div>
                </div>
            </div>
        </aside>
        <section>
            {{outlet}}
        </section>
        <footer>
        </footer>
    </div>    
    </script>

    <script type="text/x-handlebars" id="mailbox">
    <div class="pure-u-1" id="list">
        {{#each messages}}
            {{#link-to "mail" this tagName="div"}}
                {{#if view.isActive}}
                    <div class="email-item  email-item-selected pure-g">
                {{else}}
                    <div class="email-item  pure-g">
                {{/if}}

                <div class="pure-u">
                    <img class="email-avatar" alt="Senders Avatar" height="64" width="64" src="http://placehold.it/80x80&text=HB">
                </div>

                <div class="pure-u-3-4">
                    <h5 class="email-name">{{from}}</h5>
                    <h4 class="email-subject">{{subject}}</h4>
                    <p class="email-desc">
                        {{excerpt body}}
                    </p>
                </div>
            </div>
            {{/link-to}}
        {{/each}}
    </div>
    {{outlet}}
    </script>

    <script type="text/x-handlebars" id="mail">
    <div class="pure-u-1" id="main">
        <div class="email-content">
            <div class="email-content-header pure-g">
                <div class="pure-u-1-2">
                    <h1 class="email-content-title">{{subject}}</h1>
                    <p class="email-content-subtitle">
                        From <a>{{from}}</a> on <span>{{date date}}</span>
                    </p>
                </div>

                <div class="pure-u-1-2 email-content-controls">
                    <button class="pure-button secondary-button">Reply</button>
                    <button class="pure-button secondary-button">Forward</button>
                    <button class="pure-button secondary-button">Move to</button>
                </div>
            </div>

            <div class="email-content-body">
                {{body}}
            </div>
        </div>
    </div>
    </script>


<script src="http://yui.yahooapis.com/3.12.0/build/yui/yui.js"></script>
<script>

</script>

<script>
YUI().use('node-base', 'node-event-delegate', function (Y) {
    // This just makes sure that the href="#" attached to the <a> elements
    // don't scroll you back up the page.
    Y.one('body').delegate('click', function (e) {
        e.preventDefault();
    }, 'a[href="#"]');
});
</script>
<script src="js/libs/jquery-1.10.2.js"></script>
<script src="js/libs/handlebars-1.1.2.js"></script>
<script src="js/libs/ember-1.3.0.js"></script>
<script src="js/libs/moment.min.js"></script>
<script src="js/app.js"></script>
<!-- to activate the test runner, add the "?test" query string parameter -->
<script src="tests/runner.js"></script>

</body>
</html>
