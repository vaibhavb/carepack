<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<title>Direct Mail Application</title>
<link rel="stylesheet" href="css/normalize.css">
<link rel="stylesheet" href="css/style.css">
</head>
<body>
  <script type="text/x-handlebars">
    <div class="title">Direct In A Box!</div>
    <div class="url">URL: {{target.url}}</div>
    <aside>       
        <ul>
            <li><h2>Mailboxes</h2></li>
            {{#each}}
                <li>
                    {{#link-to "mailbox" this currentWhen="mailbox"}}
                        <span class="count">
                            {{messages.length}}
                        </span>
                        {{name}}
                    {{/link-to}}
                </li>
            {{/each}}
        </ul>
    </aside>
    <section class="main">
        {{outlet}}
    </section>
  </script>

  <script type="text/x-handlebars" id="index">
    <div class="index">
      <h1>Direct In a Box Mail - Based on Ember.js</h1>
      <span class="tomster"></span>
    </div>
  </script>

  <script type="text/x-handlebars" id="mail">
  <div class="mail">
    <dl>
        <dt>From</dt>
        <dd>{{from}}</dd>
        <dt>To</dt>
        <dd>{{to}}</dd>
        <dt>Date</dt>
        <dd>{{date date}}</dd>
    </dl>
    <h4>{{subject}}</h4>
    <p>{{body}}</p>
  </div>
  </script>

  <script type="text/x-handlebars" id="mailbox">
  <table>
    <tr>
        <th>Date</th>
        <th>Subject</th>
        <th>From</th>
        <th>To</th>
    </tr>

    {{#each messages}}
        {{#link-to "mail" this tagName="tr"}}
            <td>{{date date}}</td>
            <td>{{view.isActive}}{{subject}}</td>
            <td>{{from}}</td>
            <td>{{to}}</td>
        {{/link-to}}
    {{/each}}
  </table>

  {{outlet}}
  </script>
  
  <script type="text/x-handlebars" id="mailbox-index">
    <div class="mailbox-index">
      Select an email
    </div>
  </script>
  
  <script src="js/libs/jquery-1.10.2.js"></script>
  <script src="js/libs/handlebars-1.1.2.js"></script>
  <script src="js/libs/ember-1.3.0.js"></script>
  <script src="js/libs/moment.min.js"></script>
  <script src="js/app.js"></script>
  <!-- to activate the test runner, add the "?test" query string parameter -->
  <script src="tests/runner.js"></script>
</body>
</html>
